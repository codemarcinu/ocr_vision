{% if error %}
<div class="detail-section" style="color:var(--danger)">{{ error }}</div>
{% elif answer %}
<div class="detail-section">
  <div class="mobile-card-preview" style="-webkit-line-clamp:unset;color:var(--text-primary);font-size:0.95rem;line-height:1.5">
    {{ answer }}
  </div>
  {% if sources %}
  <div class="mobile-card-meta" style="margin-top:0.75rem;flex-wrap:wrap">
    <small style="color:var(--text-secondary)">Źródła:</small>
    {% for s in sources[:5] %}
    <span class="mobile-badge mobile-badge-tag">{{ s.content_type }}: {{ s.title[:25] }}{% if s.title|length > 25 %}...{% endif %} ({{ "%.0f"|format(s.score * 100) }}%)</span>
    {% endfor %}
  </div>
  {% endif %}
  {% if processing_time %}
  <div style="font-size:0.75rem;color:var(--text-secondary);margin-top:0.5rem">
    {{ "%.1f"|format(processing_time) }}s | {{ model_used or "" }}
  </div>
  {% endif %}
</div>
{% else %}
<div class="mobile-empty" style="min-height:20vh">
  <div class="mobile-empty-text">Zadaj pytanie, aby przeszukać bazę wiedzy</div>
</div>
{% endif %}
