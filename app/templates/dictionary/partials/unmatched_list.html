{% if unmatched %}
<div class="table-responsive">
    <table class="table table-sm">
        <thead>
            <tr>
                <th>Nazwa OCR</th>
                <th>Sklep</th>
                <th class="text-center">Ilosc</th>
                <th>Naucz</th>
            </tr>
        </thead>
        <tbody>
            {% for u in unmatched %}
            <tr>
                <td class="fw-medium">{{ u.raw_name }}</td>
                <td><small>{{ u.store or "-" }}</small></td>
                <td class="text-center"><span class="badge bg-secondary">{{ u.count }}</span></td>
                <td>
                    <form class="d-flex gap-1"
                          hx-post="/app/slownik/learn/{{ u.raw_name|urlencode }}"
                          hx-target="#unmatched-list">
                        <input type="text" name="normalized_name" class="form-control form-control-sm"
                               placeholder="Nazwa znormalizowana" style="min-width:150px" required>
                        <select name="category" class="form-select form-select-sm" style="min-width:100px">
                            {% for cat in ["Nabial", "Pieczywo", "Mieso", "Wedliny", "Warzywa", "Owoce", "Napoje", "Slodycze", "Przekaski", "Chemia", "Kosmetyki", "Inne"] %}
                            <option value="{{ cat }}">{{ cat }}</option>
                            {% endfor %}
                        </select>
                        <button type="submit" class="btn btn-sm btn-success"><i class="bi bi-check-lg"></i></button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="empty-state">
    <div class="empty-state-icon"><i class="bi bi-check-circle"></i></div>
    <p>Wszystkie produkty dopasowane!</p>
</div>
{% endif %}
